import telebot
import random
import time

TOKEN="8213890473:AAFLtnE6fFHSZ-9D9MblY_L_0ZzTgOQK4z4

bot = telebot.TeleBot(TOKEN)


# -------- ANALIZ FUNKSIYASI ----------
def analiz_qilish():
    """
    Ğ‘Ñƒ ĞµÑ€Ğ³Ğ° ĞºĞµĞ¹Ğ¸Ğ½ Liga Pro API ÑƒĞ»Ğ°Ğ½Ğ°Ğ´Ğ¸.
    Ò²Ğ¾Ğ·Ğ¸Ñ€ demo ÑƒÑ‡ÑƒĞ½ random Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·.
    """

    ishonch = random.randint(50, 80)

    if ishonch >= 70:
        signal = "âœ… TIKISH MUMKIN"
    else:
        signal = "âŒ TIKMASLIK YAXSHIROQ"

    text = f"""
ğŸ“ Liga Pro Analiz

ğŸ“Š Ishonch darajasi: {ishonch}%

ğŸ“¢ Signal: {signal}
"""
    return text


# -------- START ----------
@bot.message_handler(commands=['start'])
def start(message):
    bot.send_message(
        message.chat.id,
        "ğŸ¤– Bot ishga tushdi!\n\n/analiz deb yozsang â€” o'yinni tekshiraman."
    )


# -------- MANUAL ANALIZ ----------
@bot.message_handler(commands=['analiz'])
def analiz(message):
    natija = analiz_qilish()
    bot.send_message(message.chat.id, natija)


# -------- AVTO SIGNAL (24/7) ----------
def auto_signal():
    while True:
        natija = analiz_qilish()

        # BU YERGA O'Z CHAT IDingni qo'yasan
        CHAT_ID = "CHAT_IDING"

        bot.send_message(CHAT_ID, natija)

        # har 30 minutda tekshiradi
        time.sleep(1800)


# Thread orqali fon rejimida ishlatamiz
import threading
threading.Thread(target=auto_signal).start()


print("Bot ishlayapti...")
bot.infinity_polling()
